# 已解决问题列表显示问题编号 - 修改说明

## 📋 修改内容

### 需求
在"已解决问题"列表中，每个问题都要显示它在查看详情页面里的问题编号（如 `M-251101-006`）。

### 修改的文件

#### 1. `pages/manager/resolved/resolved.wxml`
**修改位置**: 第52-56行（新增）

**添加内容**:
```xml
<!-- 问题编号 -->
<view class="issue-id" wx:if="{{item.issueId}}">
  <text class="id-label">问题编号:</text>
  <text class="id-value">{{item.issueId}}</text>
</view>
```

**说明**:
- 在问题标题和问题描述之间插入问题编号显示区域
- 使用 `wx:if="{{item.issueId}}"` 条件判断，只有当问题有编号时才显示
- 显示格式：`问题编号: M-251101-006`

#### 2. `pages/manager/resolved/resolved.wxss`
**修改位置**: 第171-193行（新增样式）

**添加样式**:
```css
/* 问题编号 */
.issue-id {
  display: flex;
  align-items: center;
  margin-bottom: 12rpx;
  padding: 10rpx 15rpx;
  background: #f8f9fa;
  border-radius: 8rpx;
  border-left: 4rpx solid #667eea;
}

.id-label {
  font-size: 26rpx;
  color: #999;
  margin-right: 10rpx;
}

.id-value {
  font-size: 26rpx;
  color: #667eea;
  font-weight: bold;
  font-family: 'Courier New', monospace;
}
```

**样式特点**:
- 浅灰色背景 (`#f8f9fa`)，使编号区域醒目
- 左侧蓝色边框 (`#667eea`)，增强视觉识别
- 编号使用等宽字体 (`Courier New`)，更易阅读
- 蓝色加粗显示，突出问题编号

## 🎨 显示效果

### 修改前
```
┌─────────────────────────────────┐
│ 问题标题                 已解决  │
│ 问题描述内容...                  │
│ 分类: 电气  设备: 空调           │
│ ...                              │
└─────────────────────────────────┘
```

### 修改后
```
┌─────────────────────────────────┐
│ 问题标题                 已解决  │
│ ┃ 问题编号: M-251101-006        │ ← 新增
│ 问题描述内容...                  │
│ 分类: 电气  设备: 空调           │
│ ...                              │
└─────────────────────────────────┘
```

## ✅ 优点

1. **一致性**: 与问题详情页面保持一致，都显示相同的问题编号
2. **便于追踪**: 主管可以直接在列表中看到问题编号，无需点击进入详情
3. **易于识别**: 使用不同的背景色和边框，使问题编号醒目显示
4. **美观**: 设计简洁，不影响原有布局

## 🚀 部署步骤

1. 在微信开发者工具中点击 **"编译"** 按钮
2. 测试验证：
   - 使用主管账号登录
   - 进入"已解决问题"页面
   - 确认每个问题都显示了问题编号

## 📝 注意事项

- 问题编号来自数据库中的 `issueId` 字段
- 如果某个问题没有 `issueId` 字段（旧数据），则不显示问题编号区域
- 编号格式可能是：
  - `M-251101-006`（以 `M-` 开头）
  - `ISSUE_xxx`（以 `ISSUE_` 开头）
  - 或其他格式

## 🔗 相关文件

- 问题详情页面: `pages/manager/issue-detail/issue-detail.wxml` (第84-85行显示问题编号)
- 云函数: `cloud/functions/issues/index.js` (getResolvedIssues 函数返回包含 issueId 的数据)

