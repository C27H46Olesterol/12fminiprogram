<!--pages/processing-info/processing-info.wxml-->
<view class="container">
  <view class="header">
    <text class="title">开始处理工单</text>
  </view>

  <view class="content">
    <!-- 工单基本信息 -->
    <view class="section">
      <view class="section-title">工单信息</view>
      <view class="info-item">
        <text class="label">标题：</text>
        <text class="value">{{issue.title}}</text>
      </view>
      <view class="info-item">
        <text class="label">描述：</text>
        <text class="value">{{issue.description}}</text>
      </view>
    </view>

    <!-- 是否需要配件 -->
    <view class="section">
      <view class="section-title">配件需求</view>
      <radio-group bindchange="onNeedPartsChange">
        <label class="radio-item">
          <radio value="yes" checked="{{needParts === 'yes'}}"/>
          <text>需要配件</text>
        </label>
        <label class="radio-item">
          <radio value="no" checked="{{needParts === 'no'}}"/>
          <text>不需要配件</text>
        </label>
      </radio-group>
    </view>

    <!-- 需要什么配件（仅在选择"需要配件"时显示） -->
    <view class="section" wx:if="{{needParts === 'yes'}}">
      <view class="section-title">配件详情</view>
      <textarea 
        class="textarea" 
        placeholder="请输入需要的配件名称和数量" 
        value="{{partsDetail}}"
        bindinput="onPartsDetailInput"
        maxlength="500"
      />
      <view class="char-count">{{partsDetail.length}}/500</view>
    </view>

    <!-- 按钮区域 -->
    <view class="button-area">
      <button 
        class="btn-start" 
        bindtap="startProcessing"
      >
        开始处理
      </button>
    </view>
  </view>
</view>

