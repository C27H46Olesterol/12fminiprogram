<!-- pages/manager/send-parts/send-parts.wxml -->
<view class="container">
  <!-- 页面标题 -->
  <view class="header">
    <text class="title">发出配件</text>
    <text class="subtitle">工单编号：{{issue.issueId}}</text>
  </view>

  <!-- 工单基本信息 -->
  <view class="issue-info">
    <view class="info-item">
      <text class="label">问题标题</text>
      <text class="value">{{issue.title}}</text>
    </view>
    <view class="info-item">
      <text class="label">客户姓名</text>
      <text class="value">{{issue.clientName}}</text>
    </view>
    <view class="info-item">
      <text class="label">联系电话</text>
      <text class="value">{{issue.clientPhone}}</text>
    </view>
    <view class="info-item">
      <text class="label">安装地址</text>
      <text class="value">{{issue.clientAddress}}</text>
    </view>
    <view class="info-item" wx:if="{{issue.workerPhone}}">
      <text class="label">维修工电话</text>
      <text class="value">{{issue.workerPhone}}</text>
    </view>
    <view class="info-item" wx:if="{{issue.workerRegion}}">
      <text class="label">维修工地区</text>
      <text class="value">{{issue.workerRegion}}</text>
    </view>
    <view class="info-item" wx:if="{{issue.partsSendTime}}">
      <text class="label">发出时间</text>
      <text class="value">{{issue.partsSendTime}}</text>
    </view>
  </view>

  <!-- 配件详情 -->
  <view class="form-section">
    <view class="section-title">配件详情</view>
    <textarea 
      class="textarea" 
      placeholder="请详细填写发出的配件信息，例如：主板 x1，内存条 x2..."
      maxlength="300"
      value="{{partsDetail}}"
      bindinput="onPartsDetailInput"
    />
    <view class="char-count">{{partsDetail.length}}/300</view>
  </view>

  <!-- 配件类型 -->
  <view class="form-section">
    <view class="section-title">配件类型 <text class="required">*</text></view>
    <textarea 
      class="textarea" 
      placeholder="请描述需要更换配件的原因和问题详情..."
      maxlength="500"
      value="{{problemDescription}}"
      bindinput="onProblemInput"
    />
    <view class="char-count">{{problemDescription.length}}/500</view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-buttons">
    <button class="btn-cancel" bindtap="onCancel">取消</button>
    <button class="btn-confirm" bindtap="onConfirm">确认发出</button>
  </view>
</view>

