<!--pages/login/login.wxml-->
<view class="login-container">
  <!-- 背景装饰 -->
  <view class="bg-decoration">
    <view class="circle circle-1"></view>
    <view class="circle circle-2"></view>
    <view class="circle circle-3"></view>
  </view>

  <!-- 登录内容 -->
  <view class="login-content">
    <!-- Logo和标题 -->
    <view class="header">
      <view class="logo">
        <image class="logo-image" src="/images/123.jpg" mode="aspectFit"></image>
      </view>
      <view class="title">颐尔福售后</view>
      <view class="subtitle">微信授权快速登录</view>
    </view>

    <!-- 登录表单 -->
    <view class="card login-form">
      <!-- 手机号输入框 -->
      <view class="phone-input-section form-group">
        <view class="input-group">
          <view class="form-label">手机号登录</view>
          <input 
            class="form-input" 
            type="number" 
            placeholder="请输入手机号" 
            value="{{phoneNumber}}"
            bindinput="onPhoneInput"
            maxlength="11"
            catchtap="onInputFocus"
          />
        </view>
        <button 
          class="btn btn-primary btn-block" 
          bindtap="phoneNumberLogin"
          disabled="{{loading || !phoneNumber}}"
        >
          {{loading ? '登录中...' : '手机号登录'}}
        </button>
      </view>

      <!-- 分割线 -->
      <view class="divider">
        <view class="divider-line"></view>
        <text class="divider-text">或</text>
        <view class="divider-line"></view>
      </view>

      <!-- 微信授权获取手机号登录按钮 -->
      <button 
        class="btn btn-block" 
        open-type="getPhoneNumber"
        bindgetphonenumber="onGetPhoneNumber"
        disabled="{{loading}}"
        style="background-color: #07C160; color: white;"
      >
        <view class="btn-content flex flex-center">
          <image class="wechat-icon" src="/images/wechat-icon.svg" mode="aspectFit" style="width: 40rpx; height: 40rpx; margin-right: 16rpx; filter: brightness(0) invert(1);"></image>
          <text class="btn-text">{{loading ? '登录中...' : '微信授权获取手机号登录'}}</text>
        </view>
      </button>
    </view>

    <!-- 提示信息 -->
    <view class="tips">
      <text class="tip-text text-secondary">登录即表示同意用户协议和隐私政策</text>
    </view>
  </view>
</view>