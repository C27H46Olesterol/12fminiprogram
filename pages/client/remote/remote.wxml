<!--pages/client/remote/remote.wxml-->
<!-- 远程遥控界面 (Updated Style) -->
<view class="section remote-control-section">
  <!-- 顶部栏：开关与标题 -->

  <!-- 综合显示框 (Consolidated Display) -->
  <view class="display-screen">
    <!-- 第一行：基本状态 -->
    <view class="display-row">
      <view class="display-item">
        <text class="display-label">A/C</text>
        <text class="display-value {{remoteState.powerOn ? 'active' : ''}}">{{remoteState.powerOn ? 'ON' :
          'OFF'}}</text>
      </view>
      <view class="display-item">
        <text class="display-label">照明</text>
        <text class="display-value {{remoteState.lightingOn ? 'active' : ''}}">{{remoteState.lightingOn ? 'ON' :
          'OFF'}}</text>
      </view>
      <view class="display-item">
        <text class="display-label">故障码</text>
        <text class="display-value error">{{deviceStatus.faultCode || '--'}}</text>
      </view>
    </view>

    <!-- 中间：核心显示 (温度 & 模式) -->
    <view class="display-main">
      <view class="temp-display">
        <text class="temp-value">{{remoteState.targetTemperature}}</text>
        <text class="temp-unit">°C</text>
        <text class="temp-label">设置温度</text>
      </view>
      <view class="mode-display">
        <text class="mode-text">{{remoteState.mode === 'auto' ? '自动' : (remoteState.mode === 'strong' ? '强劲' :
          (remoteState.mode === 'eco' ? '节能' : (remoteState.mode === 'heat' ? '制热' : '制冷')))}}</text>
      </view>
    </view>

    <!-- 第三行：环境信息 -->
    <view class="display-row">
      <view class="display-item">
        <text class="display-label">风速</text>
        <text class="display-value">{{remoteState.windSpeed}}档</text>
      </view>
      <view class="display-item">
        <text class="display-label">出风温度</text>
        <text class="display-value">{{deviceStatus.outletTemp}}°C</text>
      </view>
      <view class="display-item">
        <text class="display-label">进风温度</text>
        <text class="display-value">{{deviceStatus.inletTemp}}°C</text>
      </view>
    </view>

    <!-- 第四行：更多状态 -->
    <view class="display-row">
      <view class="display-item">
        <text class="display-label">上下摆风</text>
        <text class="display-value">{{remoteState.swingUpDown ? 'ON' : 'OFF'}}</text>
      </view>
      <view class="display-item">
        <text class="display-label">左右摆风</text>
        <text class="display-value">{{remoteState.swingLeftRight ? 'ON' : 'OFF'}}</text>
      </view>
      <view class="display-item">
        <text class="display-label">电压</text>
        <text class="display-value">{{deviceStatus.voltage}}V</text>
      </view>
    </view>
  </view>

  <!-- 信号状态栏 -->
  <view class="signal-status-bar">
    <view class="signal-group">
      <view class="signal-icon">
        <view class="s-bar b1 {{deviceStatus.signalStrength >= 1 ? 'active' : ''}}"></view>
        <view class="s-bar b2 {{deviceStatus.signalStrength >= 2 ? 'active' : ''}}"></view>
        <view class="s-bar b3 {{deviceStatus.signalStrength >= 3 ? 'active' : ''}}"></view>
        <view class="s-bar b4 {{deviceStatus.signalStrength >= 4 ? 'active' : ''}}"></view>
      </view>
      <text class="signal-text">设备在线</text>
    </view>
  </view>

  <view class="remote-header">
    <view class="power-btn-wrapper" bindtap="togglePower">
      <view class="power-btn {{remoteState.powerOn ? 'active' : ''}}">
        <view class="iconfont icon-power"></view>
      </view>
    </view>
    <view class="remote-title">智能遥控</view>
    <view class="more-btn">
      <view class="iconfont icon-more"></view>
    </view>
  </view>

  <!-- 中间控制区域 (Split Layout) -->
  <view class="control-panel-split">
    <!-- 左侧：风速控制 -->
    <view class="control-column">
      <view class="control-title">风速</view>
      <view class="control-pill">
        <view class="control-btn" bindtap="increaseWindSpeed">
          <view class="iconfont icon-plus"></view>
        </view>
        <view class="control-icon-area">
          <view class="iconfont icon-wind"></view>
        </view>
        <view class="control-btn" bindtap="decreaseWindSpeed">
          <view class="iconfont icon-minus"></view>
        </view>
      </view>
    </view>

    <!-- 右侧：温度控制 -->
    <view class="control-column">
      <view class="control-title">温度</view>
      <view class="control-pill">
        <view class="control-btn" bindtap="increaseTemperature">
          <view class="iconfont icon-plus"></view>
        </view>
        <view class="control-icon-area">
          <view class="iconfont icon-temp"></view>
        </view>
        <view class="control-btn" bindtap="decreaseTemperature">
          <view class="iconfont icon-minus"></view>
        </view>
      </view>
    </view>
  </view>

  <!-- 功能按钮区域 -->
  <view class="function-area">
    <!-- 第一排：功能键 -->
    <view class="func-grid">
      <view class="func-btn-wrapper" bindtap="toggleLighting">
        <view class="func-btn circle {{remoteState.lightingOn ? 'active' : ''}}">
          <view class="iconfont icon-sun"></view>
        </view>
        <text class="func-label"> {{remoteState.lightingOn ? '照明：开' : '照明：关'}} </text>
      </view>

      <view class="func-btn-wrapper" bindtap="setAutoMode">
        <view class="func-btn circle {{remoteState.mode === 'auto' ? 'active' : ''}}">
          <view class="iconfont icon-auto"></view>
        </view>
        <text class="func-label">{{remoteState.mode === 'auto' ? '当前模式：自动' : '自动'}}</text>
      </view>

      <view class="func-btn-wrapper" bindtap="setStrongMode">
        <view class="func-btn circle {{remoteState.mode === 'strong' ? 'active' : ''}}">
          <view class="iconfont icon-strong"></view>
        </view>
        <text class="func-label">{{remoteState.mode === 'strong' ? '当前模式：强劲' : '强劲'}}</text>
      </view>

      <view class="func-btn-wrapper" bindtap="setEcoMode">
        <view class="func-btn circle {{remoteState.mode === 'eco' ? 'active' : ''}}">
          <view class="iconfont icon-eco"></view>
        </view>
        <text class="func-label">{{remoteState.mode === 'eco' ? '当前模式：节能' : '节能'}}</text>
      </view>
    </view>

    <!-- 第二排：功能键 -->
    <view class="func-grid">
      <view class="func-btn-wrapper" bindtap="toggleHeating">
        <view class="func-btn circle {{remoteState.mode === 'heat' ? 'active' : ''}}">
          <!-- <text class="iconfont" style="color: {{remoteState.mode === 'heat' ? '#fff' : '#ff4d4f'}};">♨</text> -->
          <view class="iconfont icon-heat"></view>
        </view>
        <text class="func-label">{{remoteState.mode === 'heat' ? '当前模式：制热' : '制热'}}</text>
      </view>

      <view class="func-btn-wrapper" bindtap="toggleSwingUpDown">
        <view class="func-btn circle {{remoteState.swingUpDown ? 'active' : ''}}">
          <view class="iconfont icon-swing-ud"></view>
        </view>
        <text class="func-label">{{remoteState.swingUpDown ? '上下摆风：开' : '上下摆风：关'}}</text>
      </view>

      <view class="func-btn-wrapper" bindtap="toggleSwingLeftRight">
        <view class="func-btn circle {{remoteState.swingLeftRight ? 'active' : ''}}">
          <view class="iconfont icon-swing-lr"></view>
        </view>
        <text class="func-label">{{remoteState.swingLeftRight ? '左右摆风：开' : '左右摆风：关'}}</text>
      </view>

      <view class="func-btn-wrapper" bindtap="onClock">
        <view class="func-btn circle">
          <view class="iconfont icon-clock"></view>
        </view>
        <text class="func-label">定时</text>
      </view>
    </view>

  </view>
</view>