<!--pages/client/apply-worker/apply-worker.wxml-->
<view class="container">
  <!-- 头部 -->
  <view class="header-section">
    <view class="header-bg"></view>
    <view class="header-content">
      <view class="header-title">申请成为维修工</view>
      <view class="header-desc">加入我们，共享专业维修服务平台</view>
    </view>
  </view>

  <!-- 申请表单 -->
  <view class="form-container">
    <!-- 基本信息卡片 -->
    <view class="form-card">
      <view class="card-title">基本信息</view>
      
      <!-- 姓名 -->
      <view class="form-group">
        <view class="form-label">
          <text>真实姓名</text>
          <text class="required-mark">*</text>
        </view>
        <input 
          class="form-input" 
          placeholder="请填写真实姓名" 
          placeholder-class="input-placeholder"
          value="{{formData.name}}"
          bindinput="onNameInput"
        />
      </view>

      <!-- 联系电话 -->
      <view class="form-group">
        <view class="form-label">
          <text>联系电话</text>
          <text class="required-mark">*</text>
        </view>
        <input 
          class="form-input" 
          type="number"
          maxlength="11"
          placeholder="请填写联系手机号" 
          placeholder-class="input-placeholder"
          value="{{formData.phone}}"
          bindinput="onPhoneInput"
        />
      </view>
    </view>

    <!-- 门店信息卡片 -->
    <view class="form-card">
      <view class="card-title">门店信息</view>
      
      <!-- 地区选择 -->
      <view class="form-group">
        <view class="form-label">
          <text>所在地区</text>
          <text class="required-mark">*</text>
        </view>
        <picker 
          mode="region" 
          value="{{region}}"
          bindchange="onRegionChange"
          custom-item="{{customItem}}"
        >
          <view class="picker {{regionText ? '' : 'placeholder'}}">
            {{regionText || '请选择门店所在省市区'}}
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>

      <!-- 门头照片 -->
      <view class="form-group no-border">
        <view class="form-label">
          <text>门店照片</text>
          <text class="required-mark">*</text>
          <text class="label-desc">需清晰展示门店招牌</text>
        </view>
        
        <view class="image-upload-area">
          <!-- 已上传图片 -->
          <view class="uploaded-item" wx:if="{{formData.storeImage}}">
            <image 
              class="uploaded-img" 
              src="{{formData.storeImage}}" 
              mode="aspectFill"
              bindtap="onPreviewImage"
            />
            <view class="delete-btn" catchtap="onDeleteImage">
              <text class="delete-icon">×</text>
            </view>
          </view>
          
          <!-- 上传按钮 -->
          <view class="upload-btn" wx:else bindtap="onChooseImage">
            <view class="upload-icon-wrap">
              <text class="upload-icon">+</text>
            </view>
            <text class="upload-text">上传照片</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 提交按钮 -->
    <view class="submit-area">
      <button 
        class="btn-submit" 
        hover-class="btn-hover"
        bindtap="onSubmit"
        disabled="{{isSubmitting || !canSubmit}}"
      >
        {{isSubmitting ? '提交中...' : '立即申请'}}
      </button>
      <view class="agreement-tips">
        提交即代表您同意<text class="link">《维修工入驻协议》</text>
      </view>
    </view>
  </view>
</view>
